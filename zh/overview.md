## Application Service > API Gateway > 개요


## API Gateway 개요

- 여러 백엔드 엔드포인트 서비스들의 게이트웨이 역할을 하여 API의 엔드포인트를 하나로 통합할 수 있는 서비스입니다.
- API Gateway에서 제공하는 플러그인으로 백엔드 엔드포인트 서비스의 변경/배포 없이 기능을 추가할 수 있습니다(HTTPS 통신, 인증, CORS, 요청/응답 가공 등).
- 대시보드에서 API 인입 요청 수, 평균 응답 시간, HTTP 상태 코드 그룹(2xx, 5xx)별 응답 수 등의 지표를 확인할 수 있습니다.


## 주요 기능

1. 유연한 API 설계
    - 백엔드 엔드포인트 서비스의 변경 없이 API Gateway에서 API를 설계할 수 있습니다.
    - 트리 형식으로 API를 등록하여 API 경로와 메서드를 쉽게 관리할 수 있습니다.
    - 경로 변수(Path Variable)를 선언하여 백엔드 엔드포인트의 경로 연결 및 플러그인 설정에서 활용할 수 있습니다.
2. 플러그인
    - 플러그인으로 백엔드 엔드포인트 서비스의 변경/배포 없이 기능을 추가할 수 있습니다.
    - API의 경로(Path) 또는 HTTP 메서드 단위로 유연하게 플러그인을 적용할 수 있습니다.
3. 스테이지
    - API를 스테이지(단계) 별로 배포할 수 있습니다.
    - 스테이지별로 백엔드 엔드포인트 서비스를 설정할 수 있습니다.
    - 스테이지를 이용하면 서비스, 환경(profile)별로 API 엔드포인트 도메인을 구성할 수 있으며, 이외 다양한 용도로 활용할 수 있습니다.
        - 예) 서비스별 스테이지 구분
        - 결제 서비스용 스테이지: kr1-api-billing.apigw.nhncloudservice.com
        - 회원 서비스용 스테이지: kr1-api-member.apigw.nhncloudservice.com
        - 예) 환경별 스테이지 구분
        - 알파 환경 스테이지: kr1-api-alpha.apigw.nhncloudservice.com
        - 서비스 환경 스테이지: kr1-api.apigw.nhncloudservice.com
        
4. 대시보드 (통계)
    - API 호출 수, HTTP 상태 코드 그룹별(2xx, 3xx, 4xx, 5xx..) 응답 수, 평균 응답 시간(ms)의 통계 지표를 제공합니다.


## API Gateway 동작 방식

![[그림1] API Gateway 동작 방식](https://static.toastoven.net/prod_apigateway/v2/apigw-v2-flow.png)
1. 게이트웨이 클라이언트는 모든  요청(Request)을 API Gateway로 통합 요청합니다. API 게이트웨이는 요청과 매핑되는 리소스를 찾습니다. 
2. 요청에 플러그인을 적용합니다.
3. 요청을 백엔드 엔드포인트로 전달합니다.
4. 백엔드 엔드포인트의 응답을 API Gateway가 전달받습니다.
5. 백엔드 엔드포인트의 응답에 플러그인을 적용합니다. 
6. 게이트웨이 클라이언트로 응답을 전달합니다. 

## 서비스 용어 

| 용어 | 설명 |
| --- | --- |
| API Gateway 서비스 |  API 리소스와 스테이지를 관리하는 단위입니다. |
| 리소스 | 리소스를 통해 프런트엔드(EndUser)와 API 게이트웨이 서비스 간의 API 설계를 구성합니다. 리소스는 경로와 HTTP 메서드로 구성됩니다. |
| 백엔드 엔드포인트 | API Gateway로 수신된 요청을 전달받는 사용자의 서비스를 의미합니다. |
| 스테이지 | 리소스를 배포하는 단계입니다. 서비스 또는 환경별로 API를 배포할 수 있습니다. |
| 플러그인 | 인증, ACL 등 API 게이트웨이에서 제공하는 부가 기능을 의미합니다. |